import { ProblemDriverBase, BaseDriver, TestCase } from './base-driver';
import { add } from './solution';

interface TestInput {
    a: number;
    b: number;
}

/**
 * Problem-specific driver for AddTwoNumbers problem.
 */
class AddTwoNumbersDriver extends ProblemDriverBase {
    /**
     * Parse input as pairs of integers and expected output as array of integers.
     */
    parseTestCases(input: any, expectedOutput: any): TestCase[] {
        const testCases: TestCase[] = [];
        
        for (let i = 0; i < input.length; i += 2) {
            testCases.push({
                input: { a: input[i], b: input[i + 1] } as TestInput,
                expectedOutput: expectedOutput[i / 2]
            });
        }
        
        return testCases;
    }

    /**
     * Execute the add function with the test case inputs.
     */
    executeTestCase(testCase: TestCase, index: number): any {
        const inputData = testCase.input as TestInput;
        return add(inputData.a, inputData.b);
    }

    /**
     * Compare results using simple equality.
     */
    compareResults(actual: any, expected: any): boolean {
        return actual === expected;
    }
}

// Create and run the driver
const driver = new BaseDriver(new AddTwoNumbersDriver());
driver.run();
